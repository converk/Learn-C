# 动态内存

我们的程序到目前为止只使用过**静态内存**或**栈内存**。

1. 静态内存用来保存局部 **static对象、类 static 数据成员以及定义在任何函数之外的变量**。
2. 栈内存用来保存定义在函数内的非 static 对象。

分配在静态或栈内存中的对象由编译器自动创建和销毁。对于栈对象,仅在其定义的程序块运行时才存在; static 对象在使用之前分配,在程序结束时销毁。

除了静态内存和桟内存,每个程序还拥有一个内存池。这部分内存被称作自由空间(free store)或堆(heap)。程序用堆来存储动态分配 ( dynamically allocate)的对象,即那些在程序运行时分配的对象。动态对象的生存期由程序来控制,也就是说,当动态对象不再使用时,我们的代码必须显式地销毁它们。

1. shared_ptr允许多个指针指向同一个对象;
2. unique_ptr则“独占”所指向的对象。
3. 标准库还定义了一个名为weak_ptr的伴随类,它是一种弱引用,指向 shared_ptr 所管理的对象

## shared_ptr 类

1. 默认初始化的智能指针中保存着一个空指针: `shared_ptr<string> pi;// shared—ptr,可以指向string`
2. 创建时候是空指针,和指向一个空对象是不一样的,